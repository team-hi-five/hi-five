

# Comprehensive Emotion AI

<details>

<summary>250122_newver.py</summary>

해당 코드는 웹캠을 통해 실시간으로 사용자의 감정을 분석하여 화면에 표시하는 간단한 도구입니다. OpenCV와 DeepFace 라이브러리를 활용하여 얼굴을 인식하고, 주요 감정(분노, 두려움, 행복, 슬픔, 놀람)을 실시간으로 분석합니다.

## 주요 기능

- **실시간 얼굴 감지 및 감정 분석**: 웹캠을 통해 입력된 영상에서 얼굴을 감지하고, 지정된 감정들을 실시간으로 분석합니다.
- **감정 비율 표시**: 분석된 감정의 비율을 화면에 텍스트로 표시하여 사용자가 현재 느끼는 감정을 한눈에 파악할 수 있습니다.
- **유연한 감정 설정**: 필요에 따라 분석할 감정 목록을 쉽게 수정할 수 있습니다.

## 사용 방법

1. **스크립트 실행**

   터미널이나 명령 프롬프트에서 해당 스크립트가 있는 디렉토리로 이동한 후, 다음 명령어를 입력하여 실행합니다:

   ```bash
   python emotion_analysis.py
   ```

2. **실시간 감정 분석 확인**

   웹캠이 활성화되면, 화면에 실시간으로 감정 분석 결과가 표시됩니다. 각 감정의 비율이 `%` 단위로 표시되며, `q` 키를 눌러 프로그램을 종료할 수 있습니다.

## 코드 설명

- **감정 목록 설정**: 분석할 감정을 `target_emotions` 리스트에 정의합니다.
- **웹캠 초기화**: `cv2.VideoCapture(0)`을 통해 기본 웹캠을 사용합니다.
- **프레임 처리**: 각 프레임을 읽어와 DeepFace를 사용하여 감정을 분석합니다.
- **감정 비율 계산 및 표시**: 분석된 감정을 지정된 감정으로 필터링하고, 비율을 계산하여 화면에 표시합니다.
- **예외 처리**: 얼굴 인식이 불확실하거나 오류가 발생할 경우 적절한 메시지를 출력합니다.

<img src="./README_IMAGE/Emotion AI/testimg.jpg"/>

<img src="./README_IMAGE/Emotion AI/testlog.png"/>

</details>

---

<details>

<summary>VideoAI_1.1.py</summary>

이 프로젝트는 **웹캠을 통해 실시간으로 감정분석**을 수행하며, 특정 구간을 **영상 파일**로 저장할 수 있는 데모 코드입니다. DeepFace 라이브러리를 활용하여 얼굴에서 다섯 가지 감정(angry/fear/happy/sad/surprise)을 실시간으로 추정하고, 일시정지/녹화/종료 등의 기능을 제공합니다.

---

## 주요 기능

1. **실시간 감정분석**  
   - 카메라로부터 프레임을 받아 **DeepFace**로 매 프레임 감정 분석을 수행  
   - 콘솔에 감정 퍼센티지(angry/fear/happy/sad/surprise)가 출력됨

2. **일시정지/재개** (`SpaceBar`)  
   - **스페이스바**를 누르면 화면이 멈춰서 일시정지되고, 다시 누르면 재개  
   - 일시정지 상태에서는 카메라로부터 새 프레임을 가져오지 않으며 감정분석도 잠시 중단

3. **감정분석 및 녹화 시작/종료** (`T`)  
   - **T 버튼**을 누르면 감정 분석 결과를 누적하며, 동시에 **동영상**으로 저장(녹화) 시작  
   - 다시 T 버튼을 누르면 녹화를 종료하고, 분석 구간 동안의 **평균 감정** 결과를 한 줄로 콘솔에 출력  
   - 녹화 파일은 `save_videos/날짜_시간.avi` 형식으로 저장됨

4. **종료** (`Q`)  
   - **Q 버튼**을 누르면 프로그램이 종료됨

---

## 설치 / 환경

1. **Python 3.7+** (예: Python 3.12)  
2. **DeepFace**, **OpenCV**, **TensorFlow** 등이 필요합니다.
   ```bash
   pip install tensorflow opencv-python deepface
   ```
3. (Optional) GPU 사용 시, CUDA 설정이 되어있다면 분석 속도가 향상될 수 있습니다.

---

## 실행 방법

1. **웹캠 연결**  
   - 노트북 내장 카메라 또는 USB 웹캠을 준비

2. **코드 실행**  
   - 예:  
     ```bash
     python VideoAI_1.1.py
     ```
   - 시작 시, 콘솔에 TensorFlow 로딩 메시지나 로그가 뜰 수 있습니다.

3. **동작 확인**  
   - 프로그램 창이 열리고, 카메라 영상이 실시간으로 표시됩니다.  
   - 키 입력으로 제어 가능:
     - 스페이스바: 일시정지/재개  
     - T: 감정분석+녹화 시작/종료  
     - Q: 종료  

---

## 주의 / 참고 사항

1. **일시정지 중 녹화**  
   - 현재는 **일시정지** 상태에서는 프레임을 읽지 않으므로, 녹화 파일에도 해당 구간은 포함되지 않습니다.

---

## 라이선스

- DeepFace( MIT License ) 및 관련 모델들의 라이선스를 따릅니다.  
- 이 프로젝트 자체는 **MIT License**로 자유롭게 사용 가능합니다.  

</details>

---